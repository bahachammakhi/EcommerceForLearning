{"ast":null,"code":"import _objectSpread from \"/home/bahachammakhi/Projects/ecommerce-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { dispatch } from \"rxjs/internal/observable/range\";\nimport { ADD_TO_CART, REMOVE_FROM_CART } from \"./type\";\nexport const addToCart = (items, item) => dispatch => {\n  const cartItems = items.splice();\n  let productAlreadyInCart = false;\n  cartItems.forEach(item => {\n    if (item.id === product.id) {\n      productAlreadyInCart = true;\n      item.count++;\n    }\n  });\n\n  if (!productAlreadyInCart) {\n    cartItems.push(_objectSpread({}, product, {\n      count: 1\n    }));\n  }\n\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems: cartItems\n    }\n  });\n};\nexport const removeFromCart = (items, product) => dispatch => {\n  const cartItems = items.splice().filter(elem => elem.id != item.id);\n  localStorage.removeItem(\"cartItem\", cartItems);\n  return dispatch({\n    action: REMOVE_FROM_CART,\n    payload: {\n      cartItems\n    }\n  });\n};","map":{"version":3,"sources":["/home/bahachammakhi/Projects/ecommerce-shop/src/actions/cartActions.js"],"names":["dispatch","ADD_TO_CART","REMOVE_FROM_CART","addToCart","items","item","cartItems","splice","productAlreadyInCart","forEach","id","product","count","push","localStorage","setItem","JSON","stringify","type","payload","removeFromCart","filter","elem","removeItem","action"],"mappings":";AAAA,SAASA,QAAT,QAAyB,gCAAzB;AACA,SAASC,WAAT,EAAsBC,gBAAtB,QAA8C,QAA9C;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,IAAR,KAAiBL,QAAD,IAAa;AACpD,QAAMM,SAAS,GAAGF,KAAK,CAACG,MAAN,EAAlB;AACM,MAAIC,oBAAoB,GAAG,KAA3B;AACAF,EAAAA,SAAS,CAACG,OAAV,CAAkBJ,IAAI,IAAI;AACxB,QAAIA,IAAI,CAACK,EAAL,KAAYC,OAAO,CAACD,EAAxB,EAA4B;AAC1BF,MAAAA,oBAAoB,GAAG,IAAvB;AACAH,MAAAA,IAAI,CAACO,KAAL;AACD;AACF,GALD;;AAMA,MAAI,CAACJ,oBAAL,EAA2B;AACzBF,IAAAA,SAAS,CAACO,IAAV,mBAAoBF,OAApB;AAA6BC,MAAAA,KAAK,EAAE;AAApC;AACD;;AACDE,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeX,SAAf,CAAlC;AACA,SAAON,QAAQ,CAAC;AAACkB,IAAAA,IAAI,EAAGjB,WAAR;AAChBkB,IAAAA,OAAO,EAAE;AACLb,MAAAA,SAAS,EAAGA;AADP;AADO,GAAD,CAAf;AAKP,CAlBM;AAmBP,OAAO,MAAMc,cAAc,GAAG,CAAChB,KAAD,EAASO,OAAT,KAAsBX,QAAD,IAAa;AAC5D,QAAMM,SAAS,GAAGF,KAAK,CAACG,MAAN,GAAec,MAAf,CAAsBC,IAAI,IAAIA,IAAI,CAACZ,EAAL,IAAWL,IAAI,CAACK,EAA9C,CAAlB;AACAI,EAAAA,YAAY,CAACS,UAAb,CAAwB,UAAxB,EAAoCjB,SAApC;AACA,SAAON,QAAQ,CAAC;AAACwB,IAAAA,MAAM,EAAGtB,gBAAV;AAA4BiB,IAAAA,OAAO,EAAC;AAChDb,MAAAA;AADgD;AAApC,GAAD,CAAf;AAGH,CANM","sourcesContent":["import { dispatch } from \"rxjs/internal/observable/range\";\nimport { ADD_TO_CART, REMOVE_FROM_CART } from \"./type\";\n\nexport const addToCart = (items, item) =>(dispatch) =>{\n  const cartItems = items.splice();\n        let productAlreadyInCart = false;\n        cartItems.forEach(item => {\n          if (item.id === product.id) {\n            productAlreadyInCart = true;\n            item.count++;\n          }\n        });\n        if (!productAlreadyInCart) {\n          cartItems.push({ ...product, count: 1 });\n        }\n        localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n        return dispatch({type : ADD_TO_CART ,\n        payload :{\n            cartItems : cartItems\n        }})\n     \n}\nexport const removeFromCart = (items , product) => (dispatch) =>{\n    const cartItems = items.splice().filter(elem => elem.id != item.id);\n    localStorage.removeItem(\"cartItem\", cartItems);\n    return dispatch({action : REMOVE_FROM_CART, payload:{\n        cartItems\n    }})\n}"]},"metadata":{},"sourceType":"module"}