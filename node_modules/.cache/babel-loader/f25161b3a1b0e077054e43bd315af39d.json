{"ast":null,"code":"import _objectSpread from \"/home/bahachammakhi/Projects/ecommerce-shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, REMOVE_FROM_CART } from \"./type\";\nexport const addToCart = (items, product) => dispatch => {\n  const cartItems = items.slice();\n  let productAlreadyInCart = false;\n  cartItems.forEach(item => {\n    if (item.id === product.id) {\n      productAlreadyInCart = true;\n      item.count++;\n    }\n  });\n\n  if (!productAlreadyInCart) {\n    cartItems.push(_objectSpread({}, product, {\n      count: 1\n    }));\n  }\n\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems: cartItems\n    }\n  });\n};\nexport const removeFromCart = (items, product) => dispatch => {\n  const cartItems = items.splice().filter(elem => elem.id != product.id);\n  localStorage.setItem(\"cartItem\", JSON.stringify(cartItems));\n  return dispatch({\n    type: REMOVE_FROM_CART,\n    payload: {\n      cartItems: cartItems\n    }\n  });\n};","map":{"version":3,"sources":["/home/bahachammakhi/Projects/ecommerce-shop/src/actions/cartActions.js"],"names":["ADD_TO_CART","REMOVE_FROM_CART","addToCart","items","product","dispatch","cartItems","slice","productAlreadyInCart","forEach","item","id","count","push","localStorage","setItem","JSON","stringify","type","payload","removeFromCart","splice","filter","elem"],"mappings":";AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,QAA9C;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,OAAR,KAAoBC,QAAQ,IAAI;AACvD,QAAMC,SAAS,GAAGH,KAAK,CAACI,KAAN,EAAlB;AACA,MAAIC,oBAAoB,GAAG,KAA3B;AACAF,EAAAA,SAAS,CAACG,OAAV,CAAkBC,IAAI,IAAI;AACxB,QAAIA,IAAI,CAACC,EAAL,KAAYP,OAAO,CAACO,EAAxB,EAA4B;AAC1BH,MAAAA,oBAAoB,GAAG,IAAvB;AACAE,MAAAA,IAAI,CAACE,KAAL;AACD;AACF,GALD;;AAMA,MAAI,CAACJ,oBAAL,EAA2B;AACzBF,IAAAA,SAAS,CAACO,IAAV,mBAAoBT,OAApB;AAA6BQ,MAAAA,KAAK,EAAE;AAApC;AACD;;AACDE,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCC,IAAI,CAACC,SAAL,CAAeX,SAAf,CAAlC;AACA,SAAOD,QAAQ,CAAC;AACda,IAAAA,IAAI,EAAElB,WADQ;AAEdmB,IAAAA,OAAO,EAAE;AACPb,MAAAA,SAAS,EAAEA;AADJ;AAFK,GAAD,CAAf;AAMD,CAnBM;AAoBP,OAAO,MAAMc,cAAc,GAAG,CAACjB,KAAD,EAAQC,OAAR,KAAoBC,QAAQ,IAAI;AAC5D,QAAMC,SAAS,GAAGH,KAAK,CAACkB,MAAN,GAAeC,MAAf,CAAsBC,IAAI,IAAIA,IAAI,CAACZ,EAAL,IAAWP,OAAO,CAACO,EAAjD,CAAlB;AACAG,EAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeX,SAAf,CAAjC;AACA,SAAOD,QAAQ,CAAC;AACda,IAAAA,IAAI,EAAEjB,gBADQ;AAEdkB,IAAAA,OAAO,EAAE;AACPb,MAAAA,SAAS,EAAGA;AADL;AAFK,GAAD,CAAf;AAMD,CATM","sourcesContent":["import { ADD_TO_CART, REMOVE_FROM_CART } from \"./type\";\n\nexport const addToCart = (items, product) => dispatch => {\n  const cartItems = items.slice();\n  let productAlreadyInCart = false;\n  cartItems.forEach(item => {\n    if (item.id === product.id) {\n      productAlreadyInCart = true;\n      item.count++;\n    }\n  });\n  if (!productAlreadyInCart) {\n    cartItems.push({ ...product, count: 1 });\n  }\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  return dispatch({\n    type: ADD_TO_CART,\n    payload: {\n      cartItems: cartItems\n    }\n  });\n};\nexport const removeFromCart = (items, product) => dispatch => {\n  const cartItems = items.splice().filter(elem => elem.id != product.id);\n  localStorage.setItem(\"cartItem\", JSON.stringify(cartItems));\n  return dispatch({\n    type: REMOVE_FROM_CART,\n    payload: {\n      cartItems : cartItems\n    }\n  });\n};\n"]},"metadata":{},"sourceType":"module"}